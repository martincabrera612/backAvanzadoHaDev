<h1>WebSocket</h1>

<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.1.3/socket.io.js"></script>


<input id="message" type="text" placeholder="Message">
<button onclick="enviarMsg()">Send</button>

<div id="messages">

</div>

<script>
  const socket = io.connect("http://localhost:3000");
  // leer el mensaje del input
  const username = prompt("Escribe tu nombre de usuario");

  function enviarMsg(){
    const message = document.getElementById("message").value;
    const username = document.getElementById("username").value;
    socket.emit("new-message", username+": "+message);
  }

  socket.on("new-message", (msg)=>{
    const messages = document.getElementById("messages");
    messages.innerHTML += `<p>${msg}</p>`;
  });

</script>
